## Правила ведения работы
Чтобы всё было классно и без нерв, будем придерживаться определённой структуры, которая обеспечит нам удобство в ведении разработки. Но сперва, на всякий случай, я запишу сюда то, как склонировать репозиторий.
1) Открываем командную строку, переходим в нужную нам директорию
2) Прописываем команду `git clone https://github.com/YasHKaRo/network-traffic-analysis`. После этого появится папка network-traffic-analysis в той папке, где мы находимся. Может быть гит попросит авторизоваться предварительно
3) Заходим в нашу папку и прописываем `git branch -a`. Мы видим все *удалённые* ветки, которые у нас есть. В ветке main и develop по умолчанию мы **НЕ РАБОТАЕМ!**. Обязательно создаём локальную ветку с помощью команды `git branch -M (branch_name)`. For example: `git branch -M feature/data-preprocessing`. После этого, если мы прописываем команду `git branch -a` у нас появится зелёная созданная нами ветка. Отлично, значит работаем в ней!
4) Мы потрудились и решили, что на сегодня хватит. Что делаем? Пишем `git add .` или вместо точки пишем все те файлы, которые хотим изменить. После этого пишем `git commit -m "осмысленный комментарий на английском или русском"`, где слово *осмысленный* воспринимаем со всей серьёзностью, чтобы каждый из нас понимал, что там происходит. Далее пишем `git push origin branch_name`, for example: `git push origin feature/data-preprocessing`. Если включена двухэтапная аутентификация, то попросит ввести имя и пароль/токен. И всё, после этого мы отправили изменения с созданной веткой!

 
## ТЗ

#### 1. Общие сведения

- **Название проекта:** Система обнаружения сетевых аномалий на основе машинного обучения
- **Участники:** 2 человека
- **Срок выполнения:** 2 недели (общее время работы: ~40 часов)
- **Формат результата:** Публичная презентация на 10-15 минут
- **Дата презентации:** Потенциально 8.12.2025

#### 2. Цели проекта

Разработать и протестировать модель машинного обучения, способную:

- Классифицировать сетевой трафик на нормальный и аномальный
- Определять типы сетевых атак (многоклассовая классификация)
- Достигнуть точности обнаружения аномалий не менее 80% для случайного трафика
- Выявить наиболее значимые признаки для детектирования атак
- Написать код для применения данной модели в "реальности"

#### 3. Задачи проекта

##### 3.1. Подготовка данных

- Загрузить и изучить датасеты сетевого трафика UNSW-NB15 и CIC-IDS-2017. Выбрать, какой из них будет использоваться
- Провести разведочный анализ данных (EDA)
- Выполнить предобработку и нормализацию признаков
##### 3.2. Разработка модели

- Реализовать ML-пайплайн обработки сетевых признаков
- Обучить модели для бинарной и многоклассовой классификации
- Провести feature selection и анализ важности признаков

##### 3.3. Эксперименты и оценка

- Сравнить эффективность различных алгоритмов ML
- Проанализировать производительность на разных типах атак
- Оценить trade-off между Precision и Recall

##### 3.4. Документирование и презентация

- Подготовить презентацию по установленному плану
- Создать воспроизводимый код с комментариями
- Подготовить ответы на возможные вопросы    
#### 4. Технические требования

##### 4.1. Данные

**Источник данных:** UNSW-NB15 Network Traffic Dataset или CIC-IDS-2017

**Основные категории признаков:**

- Basic Features (протокол, порты, продолжительность)
- Content Features (количество пакетов, байт)
- Time Features (временные характеристики)
- Additional Generated Features

**Типы атак в датасете:**

- Fuzzers, Analysis, Backdoors, DoS
- Exploits, Generic, Reconnaissance
- Shellcode, Worms

##### 4.2. Предобработка данных

**Обязательные этапы:**

- Обработка пропущенных значений
- Кодирование категориальных признаков (One-Hot Encoding)
- Нормализация числовых признаков (StandardScaler)
- Балансировка данных (использование подвыборки/взвешивание классов)

**Работа с дисбалансом:**

- Разбиение на train/test
- Использование class_weight в моделях

##### 4.3. Модели машинного обучения

**Обязательные для реализации:**

1. **Базовые модели:**
    - Logistic Regression
    - Random Forest
    - Gradient Boosting (XGBoost)
2. **Задачи классификации:**
    - Бинарная: Normal vs Attack
    - Многоклассовая: определение типа атаки

**Метрики оценки:**

- Accuracy, Precision, Recall, F1-Score (macro/micro)
- ROC-AUC curve (бинарная)
- Confusion Matrix
- Classification Report по классам

### Примерный график работ
- Выбор платформы для ведения совместной разработки, создание всего необходимого для этого (1 час)
- Загрузка и изучение датасетов, выбор подходящего (3 часа)
- EDA: распределение классов, анализ признаков (1 час)
- Очистка и кодирование категориальных признаков (1.5 часа)
- Нормализация и создание пайплайна обработки (1.5 часа)
- Реализация бинарной классификации (Normal vs Attack) (2 часа)
- Сравнение 2-3 моделей, выбор лучшей (1 час)
- Реализация многоклассовой классификации (2 часа)
- Анализ производительности по типам атак (1 час)
- Feature importance анализ (1.5 часа)
- Настройка гиперпараметров лучшей модели (1.5 часа)
- Структурирование результатов (2 часа)
- Создание слайдов (2 часа)
- Подготовка к вопросам, финальные правки (1 час)

**Планируемое суммарное время** = 22 часа
**Остаток по времени** = 18 часов. Уйдёт на то, чтобы доделать те или иные задачи, тянуть выполнение задач, лежать под одеялком и не хотеть ничего делать
### Дополнительно

- Реализовать alertmanager для "плохого" трафика
- Настроить Prometheus и Grafana для визуализации программы

---
## Реализация

#### Подготовка к созданию проекта
(структура сделана нейронкой и в дальнейшем будет изменена)
```txt
network-traffic-analysis/
├── .gitignore
├── README.md
├── requirements.txt
├── environment.yml
├── src/
│   ├── __init__.py
│   ├── data/
│   │   ├── __init__.py
│   │   ├── loader.py
│   │   └── preprocessor.py
│   ├── features/
│   │   ├── __init__.py
│   │   └── engineering.py
│   ├── models/
│   │   ├── __init__.py
│   │   ├── train.py
│   │   └── predict.py
│   └── utils/
│       ├── __init__.py
│       └── visualization.py
├── notebooks/
│   ├── 01_eda.ipynb
│   ├── 02_preprocessing.ipynb
│   └── 03_model_training.ipynb
├── tests/
├── models/          # сохраненные модели
├── data/            # датасеты
└── reports/         # графики для презентации
```
Список зависимостей
```txt
pandas>=1.5.0
numpy>=1.21.0
scikit-learn>=1.0.0
xgboost>=1.6.0
matplotlib>=3.5.0
seaborn>=0.11.0
jupyter>=1.0.0
joblib>=1.1.0
black>=22.0.0  # для форматирования
pytest>=6.0.0  # для тестов
```
